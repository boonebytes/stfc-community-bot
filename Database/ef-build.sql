/*
Copyright 2022 Boonebytes

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

/*
-------------
Script Info
-------------

Generated by: dotnet ef dbcontext script -o <filename>

This script is generated from the Entity Framework code. Anything
referenced by the Discord Bot directly is in this script. It also
includes pre-populating a small number of lookup tables.

*/

BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"ALLIANCE_GROUPS" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "NAME" NVARCHAR2(200),
    CONSTRAINT "PK_ALLIANCE_GROUPS" PRIMARY KEY ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"AUDIT" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "USER_ID" NVARCHAR2(200),
    "TYPE" NVARCHAR2(50),
    "TABLE_NAME" NVARCHAR2(200),
    "DATE_TIME" TIMESTAMP(7) NOT NULL,
    "OLD_VALUES" NVARCHAR2(2000),
    "NEW_VALUES" NVARCHAR2(2000),
    "AFFECTED_COLUMNS" NVARCHAR2(2000),
    "PRIMARY_KEY" NVARCHAR2(2000),
    CONSTRAINT "PK_AUDIT" PRIMARY KEY ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"CT_ALLIANCE_SERVICE_LEVEL" (
    "ID" NUMBER(10) DEFAULT 0 NOT NULL,
    "NAME" NVARCHAR2(200) NOT NULL,
    "LABEL" NVARCHAR2(200) NOT NULL,
    CONSTRAINT "PK_CT_ALLIANCE_SERVICE_LEVEL" PRIMARY KEY ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"CT_DIPLOMATIC_RELATION" (
    "ID" NUMBER(10) DEFAULT 0 NOT NULL,
    "NAME" NVARCHAR2(200) NOT NULL,
    CONSTRAINT "PK_CT_DIPLOMATIC_RELATION" PRIMARY KEY ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"CT_RESOURCES" (
    "ID" NUMBER(10) DEFAULT 0 NOT NULL,
    "NAME" NVARCHAR2(200) NOT NULL,
    "LABEL" NVARCHAR2(200) NOT NULL,
    CONSTRAINT "PK_CT_RESOURCES" PRIMARY KEY ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"DIRECT_MESSAGES" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "RECEIVED_TIMESTAMP" TIMESTAMP(7) NOT NULL,
    "FROM_USER" NUMBER(20) NOT NULL,
    "COMMON_SERVERS" NCLOB,
    "MESSAGE" NVARCHAR2(2000),
    CONSTRAINT "PK_DIRECT_MESSAGES" PRIMARY KEY ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"ALLIANCES" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "NAME" NVARCHAR2(2000),
    "ACRONYM" NVARCHAR2(10),
    "ALLIANCE_GROUP_ID" NUMBER(19),
    "GUILD_ID" NUMBER(20),
    "DEFEND_SCHEDULE_POST_CHANNEL" NUMBER(20),
    "DEFEND_SCHEDULE_POST_TIME" NVARCHAR2(10),
    "DEFEND_BROADCAST_LEAD_TIME" NUMBER(10),
    "DEFENDBROADCASTPINGROLE" NUMBER(20),
    "DEFENDBROADCASTPINGFORLOWRISK" NUMBER(1),
    "ALLIED_BROADCAST_ROLE" NUMBER(20),
    "NEXT_SCHEDULED_POST" TIMESTAMP(7),
    CONSTRAINT "PK_ALLIANCES" PRIMARY KEY ("ID"),
    CONSTRAINT "FK_ALLIANCES_ALLIANCE_GROUPS_ALLIANCE_GROUP_ID" FOREIGN KEY ("ALLIANCE_GROUP_ID") REFERENCES "ALLIANCE_GROUPS" ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"ALLIANCE_DIPLOMACY" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "OWNER_ID" NUMBER(19) NOT NULL,
    "RELATED_ID" NUMBER(19) NOT NULL,
    "RELATIONSHIP_ID" NUMBER(10) NOT NULL,
    CONSTRAINT "PK_ALLIANCE_DIPLOMACY" PRIMARY KEY ("ID"),
    CONSTRAINT "FK_ALLIANCE_DIPLOMACY_ALLIANCES_OWNER_ID" FOREIGN KEY ("OWNER_ID") REFERENCES "ALLIANCES" ("ID") ON DELETE CASCADE,
    CONSTRAINT "FK_ALLIANCE_DIPLOMACY_ALLIANCES_RELATED_ID" FOREIGN KEY ("RELATED_ID") REFERENCES "ALLIANCES" ("ID") ON DELETE CASCADE,
    CONSTRAINT "FK_ALLIANCE_DIPLOMACY_CT_DIPLOMATIC_RELATION_RELATIONSHIP_ID" FOREIGN KEY ("RELATIONSHIP_ID") REFERENCES "CT_DIPLOMATIC_RELATION" ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"ZONES" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "NAME" NVARCHAR2(200) NOT NULL,
    "LEVEL" NUMBER(10) NOT NULL,
    "DEFEND_DAY_OF_WEEK" NVARCHAR2(15) NOT NULL,
    "DEFEND_UTC_TIME" NVARCHAR2(10) NOT NULL,
    "DEFEND_EASTERN_DAY" NUMBER(10),
    "DEFEND_EASTERN_TIME" NVARCHAR2(50),
    "NOTES" NVARCHAR2(2000),
    "OWNER_ID" NUMBER(19),
    "NEXT_DEFEND" TIMESTAMP(7),
    CONSTRAINT "PK_ZONES" PRIMARY KEY ("ID"),
    CONSTRAINT "FK_ZONES_ALLIANCES_OWNER_ID" FOREIGN KEY ("OWNER_ID") REFERENCES "ALLIANCES" ("ID") ON DELETE SET NULL
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"STARSYSTEMS" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "NAME" NVARCHAR2(200) NOT NULL,
    "ZONE_ID" NUMBER(19) NOT NULL,
    "RESOURCE_ID" NUMBER(10),
    CONSTRAINT "PK_STARSYSTEMS" PRIMARY KEY ("ID"),
    CONSTRAINT "FK_STARSYSTEMS_CT_RESOURCES_RESOURCE_ID" FOREIGN KEY ("RESOURCE_ID") REFERENCES "CT_RESOURCES" ("ID"),
    CONSTRAINT "FK_STARSYSTEMS_ZONES_ZONE_ID" FOREIGN KEY ("ZONE_ID") REFERENCES "ZONES" ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"ZONE_NEIGHBOURS" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "FROM_ZONE_ID" NUMBER(19) NOT NULL,
    "TO_ZONE_ID" NUMBER(19) NOT NULL,
    CONSTRAINT "PK_ZONE_NEIGHBOURS" PRIMARY KEY ("ID"),
    CONSTRAINT "FK_ZONE_NEIGHBOURS_ZONES_FROM_ZONE_ID" FOREIGN KEY ("FROM_ZONE_ID") REFERENCES "ZONES" ("ID"),
    CONSTRAINT "FK_ZONE_NEIGHBOURS_ZONES_TO_ZONE_ID" FOREIGN KEY ("TO_ZONE_ID") REFERENCES "ZONES" ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"ZONE_SERVICES" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "NAME" NVARCHAR2(200) NOT NULL,
    "DESCRIPTION" NVARCHAR2(2000),
    "ZONE_ID" NUMBER(19) NOT NULL,
    CONSTRAINT "PK_ZONE_SERVICES" PRIMARY KEY ("ID"),
    CONSTRAINT "FK_ZONE_SERVICES_ZONES_ZONE_ID" FOREIGN KEY ("ZONE_ID") REFERENCES "ZONES" ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"ALLIANCE_SERVICES" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "ALLIANCE_ID" NUMBER(19) NOT NULL,
    "ZONE_SERVICE_ID" NUMBER(19) NOT NULL,
    "LEVEL_ID" NUMBER(10) NOT NULL,
    CONSTRAINT "PK_ALLIANCE_SERVICES" PRIMARY KEY ("ID"),
    CONSTRAINT "FK_ALLIANCE_SERVICES_ALLIANCES_ALLIANCE_ID" FOREIGN KEY ("ALLIANCE_ID") REFERENCES "ALLIANCES" ("ID"),
    CONSTRAINT "FK_ALLIANCE_SERVICES_CT_ALLIANCE_SERVICE_LEVEL_LEVEL_ID" FOREIGN KEY ("LEVEL_ID") REFERENCES "CT_ALLIANCE_SERVICE_LEVEL" ("ID"),
    CONSTRAINT "FK_ALLIANCE_SERVICES_ZONE_SERVICES_ZONE_SERVICE_ID" FOREIGN KEY ("ZONE_SERVICE_ID") REFERENCES "ZONE_SERVICES" ("ID")
)';
END;/


BEGIN 
EXECUTE IMMEDIATE 'CREATE TABLE 
"ZONE_SERVICE_COST" (
    "ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL,
    "MODIFIED_BY" NVARCHAR2(500),
    "MODIFIED_DATE" TIMESTAMP(7) DEFAULT (SYSDATE) NOT NULL,
    "RESOURCE_ID" NUMBER(10) NOT NULL,
    "COST" NUMBER(19) NOT NULL,
    "SERVICE_ID" NUMBER(19) NOT NULL,
    CONSTRAINT "PK_ZONE_SERVICE_COST" PRIMARY KEY ("ID"),
    CONSTRAINT "FK_ZONE_SERVICE_COST_CT_RESOURCES_RESOURCE_ID" FOREIGN KEY ("RESOURCE_ID") REFERENCES "CT_RESOURCES" ("ID"),
    CONSTRAINT "FK_ZONE_SERVICE_COST_ZONE_SERVICES_SERVICE_ID" FOREIGN KEY ("SERVICE_ID") REFERENCES "ZONE_SERVICES" ("ID") ON DELETE CASCADE
)';
END;/


BEGIN
INSERT INTO "CT_ALLIANCE_SERVICE_LEVEL" ("ID", "LABEL", "NAME")
VALUES (5, N'Basic', N'Basic');
INSERT INTO "CT_ALLIANCE_SERVICE_LEVEL" ("ID", "LABEL", "NAME")
VALUES (4, N'Preferred', N'Preferred');
INSERT INTO "CT_ALLIANCE_SERVICE_LEVEL" ("ID", "LABEL", "NAME")
VALUES (3, N'Desired', N'Desired');
INSERT INTO "CT_ALLIANCE_SERVICE_LEVEL" ("ID", "LABEL", "NAME")
VALUES (2, N'Redundant', N'Redundant');
INSERT INTO "CT_ALLIANCE_SERVICE_LEVEL" ("ID", "LABEL", "NAME")
VALUES (1, N'Disabled', N'Disabled');
INSERT INTO "CT_ALLIANCE_SERVICE_LEVEL" ("ID", "LABEL", "NAME")
VALUES (0, N'Undefined', N'Undefined');
END;/


BEGIN
INSERT INTO "CT_DIPLOMATIC_RELATION" ("ID", "NAME")
VALUES (0, N'Unspecified');
INSERT INTO "CT_DIPLOMATIC_RELATION" ("ID", "NAME")
VALUES (2, N'Friendly');
INSERT INTO "CT_DIPLOMATIC_RELATION" ("ID", "NAME")
VALUES (1, N'Neutral');
INSERT INTO "CT_DIPLOMATIC_RELATION" ("ID", "NAME")
VALUES (-1, N'Untrusted');
INSERT INTO "CT_DIPLOMATIC_RELATION" ("ID", "NAME")
VALUES (-99, N'Enemy');
INSERT INTO "CT_DIPLOMATIC_RELATION" ("ID", "NAME")
VALUES (3, N'Allied');
END;/


BEGIN
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (44, N'Ore Tier 4', N'OreTier4');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (72, N'Magnetic Plasma', N'MagneticPlasma');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (71, N'Collisional Plasma', N'CollisionalPlasma');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (64, N'Progenitor Reactors', N'ProgenitorReactors');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (63, N'Progenitor Cores', N'ProgenitorCores');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (62, N'Progenitor Diodes', N'ProgenitorDiodes');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (61, N'Progenitor Emitters', N'ProgenitorEmitters');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (53, N'Refined Isogen Tier 3', N'RefinedIsogenTier3');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (52, N'Refined Isogen Tier 2', N'RefinedIsogenTier2');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (51, N'Refined Isogen Tier 1', N'RefinedIsogenTier1');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (43, N'Ore Tier 3', N'OreTier3');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (12, N'Isogen Tier 2', N'IsogenTier2');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (33, N'Crystal Tier 3', N'CrystalTier3');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (24, N'Gas Tier 4', N'GasTier4');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (23, N'Gas Tier 3', N'GasTier3');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (13, N'Isogen Tier 3', N'IsogenTier3');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (73, N'Subspace Superconductors', N'SubspaceSuperconductor');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (11, N'Isogen Tier 1', N'IsogenTier1');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (3, N'Dilithium', N'Dilithium');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (2, N'Tritanium', N'Tritanium');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (1, N'Parasteel', N'Parasteel');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (0, N'Unspecified', N'Unspecified');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (34, N'Crystal Tier 4', N'CrystalTier4');
INSERT INTO "CT_RESOURCES" ("ID", "LABEL", "NAME")
VALUES (74, N'Alliance Reserves', N'AllianceReserves');
END;/


CREATE INDEX "IX_ALLIANCE_DIPLOMACY_OWNER_ID" ON "ALLIANCE_DIPLOMACY" ("OWNER_ID")/


CREATE INDEX "IX_ALLIANCE_DIPLOMACY_RELATED_ID" ON "ALLIANCE_DIPLOMACY" ("RELATED_ID")/


CREATE INDEX "IX_ALLIANCE_DIPLOMACY_RELATIONSHIP_ID" ON "ALLIANCE_DIPLOMACY" ("RELATIONSHIP_ID")/


CREATE INDEX "IX_ALLIANCE_SERVICES_ALLIANCE_ID" ON "ALLIANCE_SERVICES" ("ALLIANCE_ID")/


CREATE INDEX "IX_ALLIANCE_SERVICES_LEVEL_ID" ON "ALLIANCE_SERVICES" ("LEVEL_ID")/


CREATE INDEX "IX_ALLIANCE_SERVICES_ZONE_SERVICE_ID" ON "ALLIANCE_SERVICES" ("ZONE_SERVICE_ID")/


CREATE INDEX "IX_ALLIANCES_ALLIANCE_GROUP_ID" ON "ALLIANCES" ("ALLIANCE_GROUP_ID")/


CREATE INDEX "IX_STARSYSTEMS_RESOURCE_ID" ON "STARSYSTEMS" ("RESOURCE_ID")/


CREATE INDEX "IX_STARSYSTEMS_ZONE_ID" ON "STARSYSTEMS" ("ZONE_ID")/


CREATE INDEX "IX_ZONE_NEIGHBOURS_FROM_ZONE_ID" ON "ZONE_NEIGHBOURS" ("FROM_ZONE_ID")/


CREATE INDEX "IX_ZONE_NEIGHBOURS_TO_ZONE_ID" ON "ZONE_NEIGHBOURS" ("TO_ZONE_ID")/


CREATE INDEX "IX_ZONE_SERVICE_COST_RESOURCE_ID" ON "ZONE_SERVICE_COST" ("RESOURCE_ID")/


CREATE INDEX "IX_ZONE_SERVICE_COST_SERVICE_ID" ON "ZONE_SERVICE_COST" ("SERVICE_ID")/


CREATE INDEX "IX_ZONE_SERVICES_ZONE_ID" ON "ZONE_SERVICES" ("ZONE_ID")/


CREATE INDEX "IX_ZONES_OWNER_ID" ON "ZONES" ("OWNER_ID")/


